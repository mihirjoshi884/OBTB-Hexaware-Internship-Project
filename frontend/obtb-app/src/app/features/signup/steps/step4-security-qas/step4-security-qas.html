<div class="space-y-4">
    <div>
        <h3 class="text-base font-bold text-gray-800 mb-1">Security Questions</h3>
        <p class="text-gray-600 text-xs font-medium">Select security questions for account recovery</p>
    </div>
    
    @for (ctrl of secQA.controls; track ctrl; let i = $index) {
        <div [formGroup]="asFormGroup(ctrl)" class="space-y-2 p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-blue-300 transition">
            <!-- Question Select -->
            <div class="group">
                <label [for]="'question-' + i" class="block text-xs font-semibold text-gray-700 mb-1 transition group-hover:text-blue-600">
                    <span class="text-red-500">*</span> Security Question {{ i + 1 }}
                </label>
                <select 
                    [id]="'question-' + i"
                    formControlName="question"
                    class="w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition duration-200 bg-white text-xs text-gray-900"
                >
                    <option value="">Select a security question</option>
                    @for (q of questions; track q) {
                        <option [value]="q">{{ q }}</option>
                    }
                </select>
                @if (asFormGroup(ctrl).get('question')?.invalid && asFormGroup(ctrl).get('question')?.touched) {
                    <p class="text-red-500 text-xs mt-1 font-medium">Please select a security question</p>
                }
            </div>

            <!-- Answer Input -->
            <div class="group">
                <label [for]="'answer-' + i" class="block text-xs font-semibold text-gray-700 mb-1 transition group-hover:text-blue-600">
                    <span class="text-red-500">*</span> Answer
                </label>
                <input 
                    [id]="'answer-' + i"
                    type="text" 
                    formControlName="answer"
                    placeholder="Your answer (case-insensitive)"
                    class="w-full px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition duration-200 bg-white text-xs text-gray-900 placeholder-gray-400"
                />
                @if (asFormGroup(ctrl).get('answer')?.invalid && asFormGroup(ctrl).get('answer')?.touched) {
                    <p class="text-red-500 text-xs mt-1 font-medium">Please provide an answer</p>
                }
            </div>
        </div>
    }
</div>
